### 什么是正则表达式

- 正则本身是包含正则语法字符串
- 正则用于约定目标字符串的规则
- 几乎所有的编程语言都支持正则，语法基本一样

### 正则表达式核心用途

- 匹配目标字符串的规则

### 常见字符串规则

- 密码规则
  - 包含大写、小写、数字和特殊符号,至少3个
  - 用户名规则
  - 电话号码规则
  - Java代码规则
  - ……
- 我们软件中也是需要检验一个字符串是否符合特定的规则
- 正则表达式就是用于检验字符串规则的语法

### 字符集

- 约定一个字符的可选择范围
- Hello[abc]
  - 连续6个字符，前五个必须是Hello，最后一个是 a b c 3个之一
- Hello[a-z]
  - 连续6个字符，前五个必须是Hello，最后一个是 a到z 之一
- Hello[a-zA-Z]
  - 连续6个字符，前五个必须是Hello，最后一个是 a到z 或 A到Z 之一

### 缩写字符集

- [0-9]
  - 等价于 \d一个字符，字符是0到9的某一个 
  - 例子
    - Hello\d 前五个必须是Hello，最后一个是 0到9 之一
    - 正则表达式 Hello\d 写成Java以后： reg="Hello\\d";
- [0-9a-zA-Z_]
  - 等价 \w  单词字符
  - 例子
    - Hello\w 前五个必须是Hello，最后一个是 0到9 a-z A-Z _ 之一
    - . 英文句号  表示匹配任何一个字符 
  - 例子
    - Hello. 前五个必须是Hello，最后一个是 任意一个字符
    - \s 匹配空白 表示一个 空格 tab 回车 换行 等
  - 例子
    - Hello\s 前五个必须是Hello，最后一个是 任意一个空白字符
  - 注意大小写
    - \D  表示非数字，除了数字以外的其他一个字符
    - \S  表示非空白，除了空白以外的其他一个字符
    - \W  表示非单词字符，除了单词字符以外的其他一个字符
  - 注意
    - Java代码中，字符里面的斜线`\` 需要转义为 `\\`
    - 字符集只匹配一个字符，如果匹配多个字符，需要重复书写或者使用“数量词”

### 数量词

- 利用数量词可以约束左侧字符出现的个数

  - H{3}
    - {3}用于约定左侧字符H必须出现3次
  - \d{3}
    - {3}用于约定左侧字符\d必须出现3次
  - H{8,10}  
    - {8,10} 用于约定左侧字符H必须出现8次到10次
  - \d{8,10} 
    - {8,10} 用于约定左侧字符\d必须出现8次到10次
  - H{3,}    
    - {3,} 用于约定左侧字符H必须出现3次以上
  - H{0,4}   
    - {0,4}  用于约定左侧字符H必须出现0到4次

- 简写数量词

  - `+`{1,}  左侧字符出现1个以上
  - `?`{0,1} 左侧字符出现1次或没有

  *  `*`{0,}  左侧字符出现0个以上

### 分组

- 规则：将一个字符序列作为一个整体组进行管理

### 匹配特殊字符

- 如何匹配 (^_^) 就遇到了特殊符号：（ ) ^ 

- 还有很多特殊符号： \ + ？ * [ ] ,  . 等 

- 使用转义字符匹配特殊符号 "\特殊符号"

```
\(\^_\^\)   用来匹配 (^_^) 
(\(\^_\^\)){3} 用来匹配 (^_^)(^_^)(^_^)
```

- 案例：
  - 匹配一个手机号码，要求能够处理中国区号
    - +86 13612334334 
    - 0086 13612334334 

```
电话号码规则：(\+86|0086)?\s?\d{11}
email: [a-zA-Z0-9_\.]+@[a-zA-Z0-9-]+[\.a-zA-Z]+
```

### 正则API

- matches() 检查正则是否全部匹配
- split() 字符串切分 
  - 根据正则将字符串劈开(split)
  - 匹配到劈开位置，劈开时候匹配字符去除
  - 将剩余部分存储到数组
- replaceAll 替换
  - 将正则表达式匹配的字符串找到，替换为指定的字符串
  - replaceAll(正则, 被替换的参数)