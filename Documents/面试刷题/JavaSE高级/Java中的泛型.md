## Java中的泛型是什么

- 泛型是JavaSE1.5的新特性
- 泛型的本质是参数化类型，也就是说所操作的数据类型被指定为一个参数

---

## 使用泛型的好处是什么

- 类型安全
  - 提供编译期间的类型检测
- 前后兼容
- 泛化代码
  - 代码可以更多的重复利用
- 性能较高
  - 用GJ(泛型Java)编写的代码可以为Java编译器和虚拟机带来更多的类型信息，这些信息对Java程序做进一步优化提供条件

---

## Java的泛型是如何工作的？

- 类型检查
  - 在生成字节吗之前提供类型检查
- 类型擦除
  - 所有类型参数都用它们的限定类型替换，包括类、变量和方法(类型擦除)
- 如果类型擦除和多态性发生了冲突时，则在子类中生成桥方法解决
- 如果调用泛型方法的返回类型被擦除，则在调用该方法时插入强制类型转换

---

## 什么是类型擦除？如何工作

- 所有类型参数都用它们的限定类型替换
  - 比如`T->Object ? extends BaseClass->BaseClass`
- 泛型是通过类型擦除来实现的，编译器在编译时擦除了所有类型相关的信息，所以在运行时不存在任何类型相关的信息。
  - 例如` List<String>`在运行时仅用一个List来表示。
  - 这样做的目的，是确保能和Java 5之前的版本开发二进制类库进行兼容。
  - 你无法在运行时访问到类型参数，因为编译器已经把泛型类型转换成了原始类型。
  - 根据你对这个泛型问题的回答情况，你会得到一些后续提问，比如为什么泛型是由类型擦除来实现的或者给你展示一些会导致编译器出错的错误泛型代码

---

## 你可以把`List<String>`传递给一个接受`List<Object>`参数的方法吗？

- 会导致编译错误

- `List<Object>`可以存储任何类型的对象包括String、Integer等

- `List<String>`只能用来存储String s

  ```java
  List<Object> objectList;
  List<String> stringList;
  objectList = stringList; //compilation error incompatible types
  ```

---

## 如何编写一个泛型方法，让它能接受泛型参数并返回泛型类型

- 编写泛型方法并不困难，你需要用泛型类型来替代原始类型，比如使用T, E or K,V等被广泛认可的类型占位符。最简单的情况下，一个泛型方法可能会像这样：

  ```java
  public V put(K key, V value) {
     return cahe.put(key,value);
  }
  ```

---

